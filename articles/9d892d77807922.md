---
title: "ã€M1 Macã€‘asdfã§å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®nodeã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹æ–¹æ³•"
emoji: "ğŸŒ±"
type: "tech"
topics:
  - "asdf"
  - "node"
  - "ç’°å¢ƒæ§‹ç¯‰"
  - "m1"
published: true
published_at: "2022-10-28 09:29"
---

å¤ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã—ã‚ˆã†ã¨ã—ãŸéš›ã«ã€`node` ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒã§ããšè©°ã¾ã£ãŸã®ã§ã€è§£æ±ºã—ãŸæ–¹æ³•ã‚’æ®‹ã—ã¦ãŠãã¾ã™ã€‚

## asdf ã¨ã¯ï¼Ÿ

å¤šç¨®å¤šæ§˜ãªãƒ„ãƒ¼ãƒ«ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚’å¯èƒ½ã«ã™ã‚‹ CLI ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ä»¥å‰ã¯ `anyenv` ä¸Šã« `nodenv` ã‚’ä½¿ã£ã¦ã„ã¾ã—ãŸãŒã€PC ä¹—ã‚Šæ›ãˆã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ `asdf` ã«ç§»è¡Œã—ã¾ã—ãŸã€‚
https://asdf-vm.com/

## å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã® node ã‚’ M1 Mac ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ããªã„

`asdf` ã§ã¯ä»¥ä¸‹ã®ã‚ˆã†ã« `node` ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```sh
asdf install nodejs 16.18.0 # ä»»æ„ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒæŒ‡å®šã§ãã¾ã™
```

ã—ã‹ã—å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆä»Šå›ã¯ `12.18.3` ã§ãƒãƒã‚Šã¾ã—ãŸï¼‰ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚

```sh
â¯ asdf install nodejs 12.18.3
Trying to update node-build... ok
Downloading node-v12.18.3.tar.gz...
-> https://nodejs.org/dist/v12.18.3/node-v12.18.3.tar.gz

WARNING: node-v12.18.3 is in LTS Maintenance mode and nearing its end of life.
It only receives *critical* security updates, *critical* bug fixes and documentation updates.

Installing node-v12.18.3...

BUILD FAILED (OS X 12.5 using node-build 4.9.95-3-g98f674e2)

Inspect or clean up the working tree at /var/folders/cj/4dl81vz93sz1wgczyt19ln6h0000gp/T/node-build.20221028091622.67284.dIPdqH
Results logged to /var/folders/cj/4dl81vz93sz1wgczyt19ln6h0000gp/T/node-build.20221028091622.67284.log

Last 10 log lines:
make: python: Command not found
make: python: Command not found
make: python: Command not found
make: python: Command not found
make: python: Command not found
make: python: Command not found
make: python: Command not found
make: python: Command not found
Missing or stale config.gypi, please run ./configure
make: *** [config.gypi] Error 1
```

## è§£æ±ºç­–

ç­†è€…ã®ç’°å¢ƒã§ã¯ Rosetta çµŒç”±ã§å®Ÿè¡Œã™ã‚‹ã“ã¨ã§å•é¡Œã‚’å›é¿ã§ãã¾ã—ãŸã€‚

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’å³ã‚¯ãƒªãƒƒã‚¯ã—ã€Œæƒ…å ±ã‚’è¦‹ã‚‹ã€ã‚’é–‹ãã¾ã™ã€‚
![](/images/asdf-install-legacy-nodejs/terminal1.png =300x)

ã€ŒRosetta ã‚’ä½¿ç”¨ã—ã¦é–‹ãã€ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã¦ã‹ã‚‰ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’èµ·å‹•ã—ã¾ã™ã€‚
![](/images/asdf-install-legacy-nodejs/terminal2.png =300x)

ã¡ã‚‡ã‚ã£ã¨ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒå¢—ãˆã¦ã„ã¾ã™ãŒã€ä»¥ä¸‹ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ç„¡äº‹ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸï¼

```sh
arch -x86_64 asdf install nodejs 12.18.3
```

## å‚è€ƒ

https://github.com/asdf-vm/asdf-nodejs/issues/189
https://asdf-vm.com/
